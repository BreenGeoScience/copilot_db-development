# Copilot Bank Account Entry: Terminal Command Workflow

## **Purpose**

This document provides clear, copy-paste-ready terminal commands and procedures for entering bank/mortgage/investment account information into your `copilot_db` database, using the Copilot applicationâ€™s standardized terminal workflow.

---

## **1. Virtual Environment**

Start your Python virtual environment before any Python command:

```sh
source ~/py.project/project_env/bin/activate
```

---

## **2. Preparing Scripts Using Terminal Commands**

**All scripts (Python, SQL, etc.) are created using shell commands with their full contents,**  
**using explicit commands like `cat <<EOF ... EOF`, NOT manual editors.**  
**Example:**

```sh
mkdir -p copilot/commands
cat > copilot/commands/enter_accounts.py <<'EOF'
# ...entire script body goes here...
EOF
```
- **Do NOT use `nano`, `vim`, or other editors**
- **Do NOT copy/paste the script body by hand**

---

## **3. Hardcoded Database Credentials**

- Python/database scripts will have database connection information hardcoded (host, dbname, user as you specified).
- **Do not prompt the user for connection info repeatedly**.
- **If your db credentials change, update only the script or tell Copilot to do so.**

---

## **4. Running Scripts**

You can run the account entry script directly using Python, or preferably using the Copilot CLI wrapper:

**Python directly:**
```sh
python3 copilot/commands/enter_accounts.py
```

**Copilot CLI (preferred, if registered):**
```sh
copilot enter-accounts
```

---

## **5. Registering New Commands in Copilot**

If you add a new command or script, register it in the Copilot CLI app (ex: `copilot/cli.py`)  
with terminal commands only, such as:

```sh
cat >> copilot/cli.py <<'EOF'

import click
import subprocess

@click.group()
def cli():
    pass

@cli.command('enter-accounts')
def enter_accounts():
    subprocess.call(["python3", "copilot/commands/enter_accounts.py"])

if __name__ == "__main__":
    cli()
EOF
```

---

## **6. SQL Scripts**

Use the same approach for SQL scripts. To create:

```sh
mkdir -p sql
cat > sql/your_script.sql <<'EOF'
-- put your SQL here
EOF
```
To run:

```sh
psql -h 192.168.30.180 -U frank -d copilot_db -f sql/your_script.sql
```

---

## **7. General Principles**

- **ALWAYS request files/scripts as shell commands (for creation and running)**
- **DO NOT use interactive editors or manual copy-paste of content**
- **If you want to change credentials or workflow, specify via request**
- **If browser is closed, paste back any relevant instructions/context to Copilot**

---

## **8. Example Session**

```sh
source ~/py.project/project_env/bin/activate

# Create the script all from the shell
mkdir -p copilot/commands
cat > copilot/commands/enter_accounts.py <<'EOF'
# ...script here...
EOF

# (Optional) Register with Copilot CLI if needed as shown above

# Run the script
copilot enter-accounts
# or, if not registered:
python3 copilot/commands/enter_accounts.py
```

---

## **9. Troubleshooting**

- If `copilot enter-accounts` gives "No such command", re-check your registration in the CLI or use the direct Python call.
- If you need to add or edit scripts, always use terminal commands for file manipulation.

---

**This workflow guarantees minimal friction, consistency, and clear automation for all future Copilot development and maintenance.**
